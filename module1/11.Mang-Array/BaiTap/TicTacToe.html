<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Caro</title>
</head>
<body>
<table border="1">
    <tr>
        <td style="width: 20px; height: 20px"></td>
    </tr>
</table>
<p id="hienThi"></p>
<script>
    let checkPlayer=true;
    let array= new Array(10);
    for (let i=0; i<10;i++){
        array[i]= new Array(10);
        for (let j=0; j<10;j++){
            array[i][j]=' ';
        }
    }
    display();
    function display(){
        let stringTable='<table border="1">';
        for (let i=0;i<10;i++){
            stringTable+='<tr>';
            for (let j=0; j<10;j++){
                stringTable+='<td style="width: 20px; height: 20px" onclick="play('+i+','+j+')">'+array[i][j]+'</td>'
            }
            stringTable+='</tr>';
        }
        stringTable+='</table>';
        document.getElementById('hienThi').innerHTML=stringTable;
    }
    function play(x,y) {
        if (checkPlayer&&checkDaNhap(x,y)){
            array[x][y]='X';
            checkPlayer=false;
            if(checkThang1()){
                alert(" Người chơi số 1 chiến thắng")
            }
        }else if (!checkPlayer&&checkDaNhap(x,y)){
            array[x][y]='O'
            checkPlayer=true;
            if(checkThang2()){
                alert(" Người chơi số 2 chiến thắng")
            }
        }
       display();
    }
    function checkDaNhap(x,y) {
        if (array[x][y]==='X'||array[x][y]==='O'){
            alert(" ô nay đã chọn. vui long nhap lai")
            return false;
        }
        return true;
    }
    function checkThang1() {
        for (let i=0; i<10;i++){
            for (let j=0; j<10;j++){
                if (array[i][j]==='X'){
                    if (array[i][j+1]==='X'&&array[i][j+2]==='X'){
                        return true
                    }
                    if (array[i+1][j]==='X'&&array[i+2][j]==='X'){
                        return true
                    }
                    if (array[i+1][j+1]==='X'&&array[i+2][j+2]==='X'){
                        return true
                    }
                    if (array[i+1][j-1]==='X'&&array[i+2][j-2]==='X'){
                        return true
                    }
                }
            }
        }
        return false;
    }
    function checkThang2() {
        for (let i=0; i<10;i++){
            for (let j=0; j<10;j++){
                if (array[i][j]==='O'){
                    if (array[i][j+1]==='O'&&array[i][j+2]==='O'){
                        return true
                    }
                    if (array[i+1][j]==='O'&&array[i+2][j]==='O'){
                        return true
                    }
                    if (array[i+1][j+1]==='O'&&array[i+2][j+2]==='O'){
                        return true
                    }
                    if (array[i+1][j-1]==='O'&&array[i+2][j-2]==='O'){
                        return true
                    }
                }
            }
        }
        return false;
    }
</script>
</body>
</html>